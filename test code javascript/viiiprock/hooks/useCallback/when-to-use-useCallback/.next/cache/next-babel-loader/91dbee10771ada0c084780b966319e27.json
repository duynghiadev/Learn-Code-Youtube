{"ast":null,"code":"import { rest } from \"msw\";\nimport { ADD_TODO, TODOS, UPDATE_TODO } from \"queries/endpoints\";\nimport { updateTodos, updateTodo } from \"common/utils\";\nimport { STORAGE_KEY } from \"common/constants\";\nexport var handlers = [// get all todos\nrest.get(TODOS, function (_, res, ctx) {\n  var data = [];\n  var localData = localStorage.getItem(STORAGE_KEY);\n\n  if (localData) {\n    data = JSON.parse(localData);\n  }\n\n  return res(ctx.status(200), ctx.json(data));\n}), // add new todo\nrest.post(ADD_TODO, function (req, res, ctx) {\n  var data = [];\n  var localData = localStorage.getItem(STORAGE_KEY);\n\n  if (localData) {\n    data = JSON.parse(localData);\n  }\n\n  updateTodos(data, req.body);\n  return res(ctx.status(200), ctx.json(req.body));\n}), // update status\nrest.post(UPDATE_TODO, function (req, res, ctx) {\n  var data = [];\n  var localData = localStorage.getItem(STORAGE_KEY);\n\n  if (localData) {\n    data = JSON.parse(localData);\n  }\n\n  updateTodo(data, req.body);\n  return res(ctx.status(200), ctx.json(req.body));\n})];","map":{"version":3,"sources":["E:/study code/Study Code Project Youtube/Learn Code YouTube/test code javascript/JavaScript/Son Dang/blog-examples/when-to-use-useCallback/mocks/handlers.ts"],"names":["rest","ADD_TODO","TODOS","UPDATE_TODO","updateTodos","updateTodo","STORAGE_KEY","handlers","get","_","res","ctx","data","localData","localStorage","getItem","JSON","parse","status","json","post","req","body"],"mappings":"AAAA,SAASA,IAAT,QAAqB,KAArB;AACA,SAASC,QAAT,EAAmBC,KAAnB,EAA0BC,WAA1B,QAA6C,mBAA7C;AACA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,cAAxC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,OAAO,IAAMC,QAAQ,GAAG,CACtB;AACAP,IAAI,CAACQ,GAAL,CAASN,KAAT,EAAgB,UAACO,CAAD,EAAIC,GAAJ,EAASC,GAAT,EAAiB;AAC/B,MAAIC,IAAQ,GAAG,EAAf;AACA,MAAMC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqBT,WAArB,CAAlB;;AACA,MAAIO,SAAJ,EAAe;AACbD,IAAAA,IAAI,GAAGI,IAAI,CAACC,KAAL,CAAWJ,SAAX,CAAP;AACD;;AAED,SAAOH,GAAG,CAACC,GAAG,CAACO,MAAJ,CAAW,GAAX,CAAD,EAAkBP,GAAG,CAACQ,IAAJ,CAASP,IAAT,CAAlB,CAAV;AACD,CARD,CAFsB,EAWtB;AACAZ,IAAI,CAACoB,IAAL,CAAUnB,QAAV,EAAoB,UAACoB,GAAD,EAAMX,GAAN,EAAWC,GAAX,EAAmB;AACrC,MAAIC,IAAQ,GAAG,EAAf;AACA,MAAMC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqBT,WAArB,CAAlB;;AACA,MAAIO,SAAJ,EAAe;AACbD,IAAAA,IAAI,GAAGI,IAAI,CAACC,KAAL,CAAWJ,SAAX,CAAP;AACD;;AACDT,EAAAA,WAAW,CAACQ,IAAD,EAAOS,GAAG,CAACC,IAAX,CAAX;AAEA,SAAOZ,GAAG,CAACC,GAAG,CAACO,MAAJ,CAAW,GAAX,CAAD,EAAkBP,GAAG,CAACQ,IAAJ,CAASE,GAAG,CAACC,IAAb,CAAlB,CAAV;AACD,CATD,CAZsB,EAsBtB;AACAtB,IAAI,CAACoB,IAAL,CAAUjB,WAAV,EAAuB,UAACkB,GAAD,EAAMX,GAAN,EAAWC,GAAX,EAAmB;AACxC,MAAIC,IAAQ,GAAG,EAAf;AACA,MAAMC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqBT,WAArB,CAAlB;;AACA,MAAIO,SAAJ,EAAe;AACbD,IAAAA,IAAI,GAAGI,IAAI,CAACC,KAAL,CAAWJ,SAAX,CAAP;AACD;;AACDR,EAAAA,UAAU,CAACO,IAAD,EAAOS,GAAG,CAACC,IAAX,CAAV;AAEA,SAAOZ,GAAG,CAACC,GAAG,CAACO,MAAJ,CAAW,GAAX,CAAD,EAAkBP,GAAG,CAACQ,IAAJ,CAASE,GAAG,CAACC,IAAb,CAAlB,CAAV;AACD,CATD,CAvBsB,CAAjB","sourcesContent":["import { rest } from \"msw\";\nimport { ADD_TODO, TODOS, UPDATE_TODO } from \"queries/endpoints\";\nimport { updateTodos, updateTodo } from \"common/utils\";\nimport { STORAGE_KEY } from \"common/constants\";\n\nexport const handlers = [\n  // get all todos\n  rest.get(TODOS, (_, res, ctx) => {\n    let data: [] = [];\n    const localData = localStorage.getItem(STORAGE_KEY);\n    if (localData) {\n      data = JSON.parse(localData);\n    }\n\n    return res(ctx.status(200), ctx.json(data));\n  }),\n  // add new todo\n  rest.post(ADD_TODO, (req, res, ctx) => {\n    let data: [] = [];\n    const localData = localStorage.getItem(STORAGE_KEY);\n    if (localData) {\n      data = JSON.parse(localData);\n    }\n    updateTodos(data, req.body);\n\n    return res(ctx.status(200), ctx.json(req.body));\n  }),\n  // update status\n  rest.post(UPDATE_TODO, (req, res, ctx) => {\n    let data: [] = [];\n    const localData = localStorage.getItem(STORAGE_KEY);\n    if (localData) {\n      data = JSON.parse(localData);\n    }\n    updateTodo(data, req.body);\n\n    return res(ctx.status(200), ctx.json(req.body));\n  }),\n];\n"]},"metadata":{},"sourceType":"module"}