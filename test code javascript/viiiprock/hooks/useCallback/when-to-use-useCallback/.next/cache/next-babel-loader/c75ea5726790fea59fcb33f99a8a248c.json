{"ast":null,"code":"import { STORAGE_KEY } from \"./constants\"; // updateTodos batch update todo list in local\n// use for #2 requirement\n\nexport function updateTodos(currentItems, newItem) {\n  const updated = [newItem, ...currentItems];\n  return localStorage.setItem(STORAGE_KEY, JSON.stringify(updated));\n} // updateTodo updates specific data (batch update) \n// use for #2 requirement\n\nexport function updateTodo(currentItems, {\n  id,\n  status\n}) {\n  const indexedId = currentItems.findIndex(item => item.id === id);\n  currentItems[indexedId].status = status;\n  return localStorage.setItem(STORAGE_KEY, JSON.stringify(currentItems));\n} // updateLocalTodoStatus updates local status for individual todo\n// use for #1 requirement\n\nexport const updateLocalTodoStatus = (taskId, status) => {\n  let localData = [];\n  const getLocalData = localStorage.getItem(\"tasks\");\n\n  if (getLocalData) {\n    localData = JSON.parse(getLocalData);\n  }\n\n  const indexedId = localData.findIndex(item => item.id === taskId);\n  localData[indexedId].status = status;\n  return localStorage.setItem(STORAGE_KEY, JSON.stringify(localData));\n};","map":{"version":3,"sources":["E:/study code/Study Code Project Youtube/Learn Code YouTube/test code javascript/JavaScript/Son Dang/blog-examples/when-to-use-useCallback/common/utils.ts"],"names":["STORAGE_KEY","updateTodos","currentItems","newItem","updated","localStorage","setItem","JSON","stringify","updateTodo","id","status","indexedId","findIndex","item","updateLocalTodoStatus","taskId","localData","getLocalData","getItem","parse"],"mappings":"AACA,SAAqBA,WAArB,QAAwC,aAAxC,C,CAEA;AACA;;AACA,OAAO,SAASC,WAAT,CAAwBC,YAAxB,EAA2CC,OAA3C,EAAuD;AAC5D,QAAMC,OAAO,GAAE,CAACD,OAAD,EAAU,GAAGD,YAAb,CAAf;AACA,SAAOG,YAAY,CAACC,OAAb,CAAqBN,WAArB,EAAkCO,IAAI,CAACC,SAAL,CAAeJ,OAAf,CAAlC,CAAP;AACD,C,CAED;AACA;;AACA,OAAO,SAASK,UAAT,CAAoBP,YAApB,EAAyC;AAAEQ,EAAAA,EAAF;AAAMC,EAAAA;AAAN,CAAzC,EAA6D;AAClE,QAAMC,SAAS,GAAGV,YAAY,CAACW,SAAb,CAAwBC,IAAD,IAAeA,IAAI,CAACJ,EAAL,KAAYA,EAAlD,CAAlB;AACAR,EAAAA,YAAY,CAACU,SAAD,CAAZ,CAAwBD,MAAxB,GAAiCA,MAAjC;AACA,SAAON,YAAY,CAACC,OAAb,CAAqBN,WAArB,EAAkCO,IAAI,CAACC,SAAL,CAAeN,YAAf,CAAlC,CAAP;AACD,C,CAED;AACA;;AACA,OAAO,MAAMa,qBAAqB,GAAG,CAACC,MAAD,EAAgBL,MAAhB,KAAsC;AACzE,MAAIM,SAAa,GAAG,EAApB;AACA,QAAMC,YAAY,GAAGb,YAAY,CAACc,OAAb,CAAqB,OAArB,CAArB;;AACA,MAAGD,YAAH,EAAiB;AACfD,IAAAA,SAAS,GAAGV,IAAI,CAACa,KAAL,CAAWF,YAAX,CAAZ;AACD;;AAED,QAAMN,SAAS,GAAGK,SAAS,CAACJ,SAAV,CAAqBC,IAAD,IAAwBA,IAAI,CAACJ,EAAL,KAAYM,MAAxD,CAAlB;AACAC,EAAAA,SAAS,CAACL,SAAD,CAAT,CAAqBD,MAArB,GAA8BA,MAA9B;AACA,SAAON,YAAY,CAACC,OAAb,CAAqBN,WAArB,EAAkCO,IAAI,CAACC,SAAL,CAAeS,SAAf,CAAlC,CAAP;AACD,CAVM","sourcesContent":["import { TaskPropsType } from \"types\"\nimport { StatusEnum, STORAGE_KEY } from \"./constants\"\n\n// updateTodos batch update todo list in local\n// use for #2 requirement\nexport function updateTodos<T>(currentItems: T[], newItem: T) {\n  const updated =[newItem, ...currentItems]\n  return localStorage.setItem(STORAGE_KEY, JSON.stringify(updated))\n}\n\n// updateTodo updates specific data (batch update) \n// use for #2 requirement\nexport function updateTodo(currentItems: any[], { id, status }:any) {\n  const indexedId = currentItems.findIndex((item: any) => item.id === id)\n  currentItems[indexedId].status = status\n  return localStorage.setItem(STORAGE_KEY, JSON.stringify(currentItems))\n}\n\n// updateLocalTodoStatus updates local status for individual todo\n// use for #1 requirement\nexport const updateLocalTodoStatus = (taskId:number, status:StatusEnum) => {\n  let localData:any = []\n  const getLocalData = localStorage.getItem(\"tasks\")\n  if(getLocalData) {\n    localData = JSON.parse(getLocalData)\n  }\n\n  const indexedId = localData.findIndex((item:TaskPropsType) => item.id === taskId)\n  localData[indexedId].status = status\n  return localStorage.setItem(STORAGE_KEY, JSON.stringify(localData))\n}"]},"metadata":{},"sourceType":"module"}